module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t){e.exports=flarum.core.compat.extend},function(e,t){e.exports=flarum.core.compat.app},function(e,t){e.exports=flarum.core.compat["components/PermissionGrid"]},function(e,t){e.exports=flarum.core.compat["components/AdminNav"]},function(e,t){e.exports=flarum.core.compat["components/AdminLinkButton"]},function(e,t){e.exports=flarum.core.compat.Component},function(e,t){e.exports=flarum.core.compat["components/Button"]},function(e,t){e.exports=flarum.core.compat["utils/saveSettings"]},function(e,t){e.exports=flarum.core.compat["components/Alert"]},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),o=r.n(a),s=r(2),i=r.n(s),c=r(3),u=r.n(c),p=r(4),l=r.n(p);var f=r(5),d=r.n(f),h=r(6),v=r.n(h),b=r(7),g=r.n(b),j=r(8),x=r.n(j);var y=function(e){var t,r;r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var n;n=a;function a(){return e.apply(this,arguments)||this}var o=a.prototype;return o.init=function(){var e=this;this.loading=!1,this.fields=["src","url","lang"];var t=app.data.settings;this.settingsPrefix="jasper.chevereto",this.values={},this.fields.forEach((function(r){return e.values[r]=m.prop(t[e.addPrefix(r)])}))},o.view=function(){return[m("div",{className:"CheveretoPage"},[m("div",{className:"container"},[m("form",{onsubmit:this.onsubmit.bind(this)},[m("fieldset",{className:"CheveretoPage-Setting"},[m("legend",{},app.translator.trans("jasper-chevereto.admin.labels.setting.title")),m("label",{},app.translator.trans("jasper-chevereto.admin.labels.setting.src")),m("input",{className:"FormControl",value:this.values.src()||"",oninput:m.withAttr("value",this.values.src)}),m("label",{},app.translator.trans("jasper-chevereto.admin.labels.setting.url")),m("input",{className:"FormControl",value:this.values.url()||"",oninput:m.withAttr("value",this.values.url)}),m("label",{},app.translator.trans("jasper-chevereto.admin.labels.setting.lang")),m("input",{className:"FormControl",value:this.values.lang()||"",oninput:m.withAttr("value",this.values.lang)})]),v.a.component({type:"submit",className:"Button Button--primary",children:app.translator.trans("jasper-chevereto.admin.buttons.save"),loading:this.loading,disabled:!this.changed()})])])])]},o.changed=function(){var e=this;return this.fields.some((function(t){return e.values[t]()!==app.data.settings[e.addPrefix(t)]}))},o.onsubmit=function(e){var t=this;if(e.preventDefault(),!this.loading){this.loading=!0,app.alerts.dismiss(this.successAlert);var r={};this.fields.forEach((function(e){return r[t.addPrefix(e)]=t.values[e]()})),g()(r).then((function(){app.alerts.show(t.successAlert=new x.a({type:"success",children:app.translator.trans("core.admin.basics.saved_message")}))})).catch((function(){})).then((function(){t.loading=!1,m.redraw()}))}},o.addPrefix=function(e){return this.settingsPrefix+"."+e},a}(d.a),P=function(){app.routes["jasper-chevereto"]={path:"/jasper/chevereto",component:y.component()},app.extensionSettings["jasper-chevereto"]=function(){return m.route(app.route("jasper-chevereto"))},Object(n.extend)(u.a.prototype,"items",(function(e){e.add("jasper-chevereto",l.a.component({href:app.route("jasper-chevereto"),icon:"far fa-cloud-upload",children:"Chevereto",description:app.translator.trans("jasper-chevereto.admin.help_texts.description")}))}))};o.a.initializers.add("jasper-chevereto",(function(e){P(),Object(n.extend)(i.a.prototype,"startItems",(function(t){t.add("chevereto",{icon:"far fa-cloud-upload",label:e.translator.trans("jasper-chevereto.admin.permissions.upload_label"),permission:"jasper.chevereto"})}))}))}]);
//# sourceMappingURL=admin.js.map